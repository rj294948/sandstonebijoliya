async function loadProducts() {
    try {
        const res = await fetch("https://your-python-server.com/get_products");
        const products = await res.json();
        displayProducts(products);
    } catch(err){
        console.error(err);
        document.getElementById("featuredProducts").innerHTML = "<p style='color:red;text-align:center;'>Error loading products.</p>";
    }
}

function displayProducts(products){
    const container = document.getElementById("featuredProducts");
    container.innerHTML = "";
    products.slice().reverse().forEach(prod => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
            <img src="${prod["Upload Sample Image"] || 'https://via.placeholder.com/300x200'}" alt="${prod["STONE CATAGORY"]}">
            <div class="info">
                <h3>${prod["STONE CATAGORY"]}</h3>
                <p><strong>Sub Category:</strong> ${prod["STONE SUB CATAGORY"]}</p>
                <p><strong>Description:</strong> ${prod["DESCRIPTION"]}</p>
                <p><strong>Address:</strong> ${prod["ADDRESS"]}</p>
                <p><strong>Contact:</strong> ${prod["CONTACT"]}</p>
                <a href="https://wa.me/91${prod["CONTACT"]}" target="_blank" class="contact-btn">WhatsApp</a>
            </div>
        `;
        container.appendChild(div);
    });
}

document.addEventListener("DOMContentLoaded", loadProducts);
